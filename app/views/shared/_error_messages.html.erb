<% if object.errors.any? %>
  <div id="error_explanation">
    
    <% if object == @user %>
      <% @user.errors.add(:password_confirmation) if @user.errors.include?(:password) %>
      <% @user.errors.delete(:password_digest) %>
    <% end %>
    <div class = "alert alert-error">
    Sorry! We had some problems:
    <ul>
    <% object.errors.full_messages.each do |msg| %>
      <li> <%= msg %></li>
    <% end %>
    </ul>
    </div>
  </div>
<% end %>